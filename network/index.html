<!doctype html>
<html lang="en">
<head>
<title>Stardog 1.2.3 Docs: Network Programming</title>
<script src="/js/libs/modernizr-2.6.2.min.js"></script>
<meta charset='utf-8'>
<meta http-equiv="X-Powered-By" content="DocPad v6.44.0"/>
<link  rel="stylesheet" href="/css/gumby.css" />
<!--     //a block for ipad, etc... might should go in meta -->
<body id="inner-doc" class="docs grid">

<div class="navbar" id="nav1">
<div class="row">
      <a class="toggle" gumby-trigger="#nav1 &gt; .row &gt; ul" href="#"><i class="icon-menu"></i></a>
      <h3 class="five columns logo">
        <a href="http://stardog.com/">
          <img style="max-width: 40%;" src="/img/logotype.png" gumby-retina="">
        </a>
      </h3>
      <ul class="seven columns">
        <li><a href="#">Chapters</a></li>
        <li>
          <a href="#">Related</a>
          <div class="dropdown">
            <ul>
              <li><a href="#">Item</a></li>
              <li><a href="#">Item</a></li>
              <li><a href="#">Item</a></li>
              <li>
                <a href="#">I HAVE STUFF NESTED UNDER ME</a>
                <div class="dropdown">
                  <ul>
                    <li><a href="">nested</a></li>
                    <li><a href="">nested</a></li>
                    <li><a href="">nested</a></li>
                  </ul>
                </div>
              </li>
              <li><a href="#">Item</a></li>
              <li><a href="#">Item</a></li>
              <li><a href="#">Item</a></li>
            </ul>
          </div>
        </li>
        <li><a href="#">Java API</a></li>
        <!-- <li class="field"><input class="search input" type="search" placeholder="Search"></li> -->
      </ul>
    </div>
  </div>

<div id="the-header">
  <div class="row valign">
    <div class="three columns">
      <h1><span id="title-masthead"><img src="/img/stardog-FLAT.png" style="max-width: 75%"/></span></h1>
      <div>
      <div class="medium rounded btn default pretty"><a href="http://stardog.com/dl">Download</a></div>
      <!-- <p><a href="http://twitter.com/stardog_db"><img src="http://clarkparsia.com/images/twitter.png"/></a></p> -->
      </div>
    </div>
    <div class="nine columns" id="header-quote">
      <p><strong>If you can imagine a society in which the computer-robot is the only menial, you can imagine anything.</strong>&mdash;Alan Perlis, <cite>Epigrams in Programming</cite></p>
      <h1 class=""><span id="title-subhead">Network Programming</span></h1>
      <p><em>This chapter describes how to interact with Stardog over a network using SPARQL, HTTP, and SNARL protocols.</em></p>
    </div>
  </div>
 <!-- <div class="row">
    <div class="three columns"></div>
    <div class="nine columns">

    </div>
  </div>
  -->
</div>

  <div id="the-content">
    <div class="row">
        <div class="three columns">
        
          <nav id="sidebar-nav-holder" class="vertical-nav" gumby-fixed="top|thefooter">
<h3 id="tochead">Contents</h3>
<div class="sidebar-nav">


<ul class="toc">
    
    <!-- [data-target='-->
        <li><a href="#sd-SPARQL-Protocol" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="#sd-SPARQL-Protocol">SPARQL Protocol</a>
        <!-- <li><a href="#sd-SPARQL-Protocol" class="skiplink">SPARQL Protocol</a> -->
            
                
<ul class="toc">
    
</ul>

            
        </li>
    
    <!-- [data-target='-->
        <li><a href="#sd-Extended-HTTP" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="#sd-Extended-HTTP">Extended HTTP</a>
        <!-- <li><a href="#sd-Extended-HTTP" class="skiplink">Extended HTTP</a> -->
            
                
<ul class="toc">
    
</ul>

            
        </li>
    
    <!-- [data-target='-->
        <li><a href="#sd-Response-Codes" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="#sd-Response-Codes">Response Codes</a>
        <!-- <li><a href="#sd-Response-Codes" class="skiplink">Response Codes</a> -->
            
                
<ul class="toc">
    
</ul>

            
        </li>
    
    <!-- [data-target='-->
        <li><a href="#sd-Stardog-Resources" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="#sd-Stardog-Resources">Stardog Resources</a>
        <!-- <li><a href="#sd-Stardog-Resources" class="skiplink">Stardog Resources</a> -->
            
                
<ul class="toc">
    
</ul>

            
        </li>
    
    <!-- [data-target='-->
        <li><a href="#sd-Admin-Resources" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="#sd-Admin-Resources">Admin Resources</a>
        <!-- <li><a href="#sd-Admin-Resources" class="skiplink">Admin Resources</a> -->
            
                
<ul class="toc">
    
</ul>

            
        </li>
    
</ul>

</div>
</nav>

<!--
          <nav id="sidebar-nav-holder" class="vertical-nav" gumby-fixed="top|[data-target='psd-templates']">
            <ul id="sidebar-nav">

                <li class="active">
                  <a href="#grid-fundamentals" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="[data-target='grid-fundamentals']">Grid Fundamentals</a>
                </li>

                <li>
                  <a href="#basic-grid" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="[data-target='basic-grid']">Basic Grid</a>
                </li>

                <li>
                  <a href="#hybrid-grid" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="[data-target='hybrid-grid']">Hybrid Grid</a>
                </li>

                <li>
                  <a href="#pushing-columns" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="[data-target='pushing-columns']">Pushing Columns</a>
                </li>

                <li>
                  <a href="#centered-columns" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="[data-target='centered-columns']">Centered Columns</a>
                </li>

                <li>
                  <a href="#tiles" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="[data-target='tiles']">Tiles</a>
                </li>

                <li>
                  <a href="#nested-grids" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="[data-target='nested-grids']">Nested Grids</a>
                </li>

                <li>
                  <a href="#semantic-grids" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="[data-target='semantic-grids']">Semantic Grids</a>
                </li>

                <li>
                  <a href="#psd-templates" class="skip" gumby-easing="easeOutQuad" gumby-duration="600" gumby-goto="[data-target='psd-templates']">PSD Templates</a>
                </li>

            </ul>
          </nav>
-->

        
        </div>
        <div class="nine columns"><p>In the <a href="../java/">Programming with Java</a> chapter, we consider
interacting with Stardog programatically from a Java program. In this
chapter we consider interacting with Stardog over a network. In some use
cases or deployment scenarios, it may be necessary to interact with or
control Stardog remotely over an IP-based network. For those purposes,
Stardog supports <a href="http://www.w3.org/TR/rdf-sparql-protocol/">SPARQL 1.0 HTTP Protocol</a>; the <a href="http://www.w3.org/TR/sparql11-http-rdf-update/">SPARQL 1.1 Graph Store HTTP Protocol</a>; the Stardog-native Extended HTTP Protocol; and SNARL, an RPC-style protocol
based on <a href="http://code.google.com/apis/protocolbuffers/">Google Protocol Buffers</a>.</p>
<h2 id="sd-SPARQL-Protocol">SPARQL Protocol</h2>
<p>Stardog supports the standard SPARQL Protocol HTTP bindings in a very
obvious way. Since the Extended HTTP Protocol is a superset of SPARQL
Protocol, the latter is documented below alongside the former.</p>
<p>Stardog supports SPARQL 1.1's Service Description format. See the
<a href="http://www.w3.org/TR/2013/REC-sparql11-service-description-20130321/">spec</a>
if you want details.</p>
<h2 id="sd-Extended-HTTP">Extended HTTP</h2>
<p>In addition to SPARQL Protocol for RDF support, Stardog supports an
Extended HTTP Protocol with additional resource representations and
capabilities.</p>
<p>The Stardog HTTP API v3 is also available on Apiary:
<a href="http://docs.stardog.apiary.io/"><a href="http://docs.stardog.apiary.io/">http://docs.stardog.apiary.io/</a></a>.</p>
<h3>Generating URLs</h3>
<p>If you are running the HTTP server at the following URL</p>
<pre class="highlighted"><code class="bash">http://localhost:12345/</code></pre>
<p>To form the URI of a particular Stardog Database, the Database Short
Name is the first URL path segment appended to the deployment URI. For
example, for the Database called <code>cytwombly</code>, deployed in the above
example HTTP server, the Database Network Name might be</p>
<pre class="highlighted"><code class="bash">http://localhost:12345/cytwombly</code></pre>
<p>All the resources related to this database are identified by URL path
segments relative to the Database Network Name; hence:</p>
<pre class="highlighted"><code class="bash">http://localhost:12345/cytwombly/size</code></pre>
<p>In what follows, we use <a href="http://code.google.com/p/uri-templates/">URI Template</a> notation to parameterize the actual request URLs, thus: <code>/{db}/size</code>.</p>
<p>We also abuse notation to show the permissible HTTP request types and
default MIME types: <code>REQ | REQ /resource/identifier → mime_type | mime_type</code>.</p>
<p>In a few cases, we use <code>void</code> as short hand for the case where there is
a response code but the response body may be empty.</p>
<h3>HTTP Headers: <code>Content-Type</code> &amp; <code>Accept</code></h3>
<p>All HTTP requests that are mutative (add or remove) must include a valid
<code>Content-Type</code> header set to the MIME type of the request body, where
“valid” is a valid MIME type for N-Triples, Trig, Trix, Turtle, NQuads,
JSON-LD, or RDF/XML:</p>
<ul>
<li>RDF/XML:   <code>application/rdf+xml</code></li>
<li>Turtle:   <code>application/x-turtle</code> or <code>text/turtle</code></li>
<li>N-Triples:   <code>text/plain</code></li>
<li>TriG:   <code>application/x-trig</code></li>
<li>TriX:   <code>application/trix</code></li>
<li>NQuads:   <code>text/x-nquads</code></li>
<li>JSON-LD:   <code>application/ld+json</code></li>
</ul>
<p>SPARQL <code>CONSTRUCT</code> queries must also include a <code>Accept</code> header set to one of these RDF serialization types.</p>
<p>When issuing a <code>SELECT</code> query the <code>Accept</code> header should be set to one
of the valid MIME types for <code>SELECT</code> results:</p>
<ul>
<li>SPARQL XML Results Format:   <code>application/sparql-results+xml</code></li>
<li>SPARQL JSON Results Format:   <code>application/sparql-results+json</code></li>
<li>SPARQL Boolean Results:   <code>text/boolean</code></li>
<li>SPARQL Binary Results:   <code>application/x-binary-rdf-results-table</code></li>
</ul>
<h2 id="sd-Response-Codes">Response Codes</h2>
<p>Stardog uses the following HTTP response codes:</p>
<ul>
<li><code>200</code>:   Operation has succeeded.</li>
<li><code>202</code>:   Operation was recieved successfully and will be processed shortly.</li>
<li><code>400</code>:   Indicates parse errors or that the transaction identifier specified for an operation is invalid or does not correspond to a known transaction.</li>
<li><code>401</code>:   Request is unauthorized.</li>
<li><code>403</code>:   User attempting to perform the operation does not exist, their username or password is invalid, or they do not have the proper credentials to perform the action.</li>
<li><code>404</code>:   A resource involved in the request—for example the database or transaction—does not exist.</li>
<li><code>409</code>:   A conflict for some database operations; for example, creating a database that already exists.</li>
<li><code>500</code>:   A unspecified failure in some internal operation…Call yr office, Senator!</li>
</ul>
<p>There are also Stardog-specific error codes in the <code>SD-Error-Code</code>
header in the response from the server. These can be used to further
clarify the reason for the failure on the server, especially in cases
where it could be ambiguous. For example, if you received a <code>404</code> from
the server trying to commit a transaction denoted by the path
<code>/myDb/transaction/commit/293845klf9f934</code>…it‘s probably not clear what is missing: it’s either the transaction or the database. In this case, the value of
the <code>SD-Error-Code</code> header will clarify.</p>
<p>The enumeration of <code>SD-Error-Code</code> values and their meanings are as follows:</p>
<ul>
<li><code>0</code>: Authentication error</li>
<li><code>1</code>: Authorization error</li>
<li><code>2</code>: Query evaluation error</li>
<li><code>3</code>: Unknown transaction</li>
<li><code>4</code>: Unknown database</li>
<li><code>5</code>: Database already exists</li>
<li><code>6</code>: Invalid database name</li>
<li><code>7</code>: Resource (user, role, etc) already exists</li>
<li><code>8</code>: Invalid connection parameter(s)</li>
<li><code>9</code>: Invalid database state for the request</li>
<li><code>10</code>: Resource in use</li>
<li><code>11</code>: Resource not found</li>
</ul>
<p>In cases of error, the message body of the result will include any error
information provided by the server to indicate the cause of the error.</p>
<h2 id="sd-Stardog-Resources">Stardog Resources</h2>
<p>To interact with Stardog over HTTP, use the following resource
representations, HTTP response codes, and resource identifiers.</p>
<h3>A Stardog Database</h3>
<pre class="highlighted"><code class="undefined">GET /{db} → void</code></pre>
<p>Returns a representation of the database. As of Stardog 1.2.3, this is
merely a placeholder; in a later release, this resource will serve the
web console where the database can be interacted with in a browser.</p>
<h3>Database Size</h3>
<pre class="highlighted"><code class="undefined">GET /{db}/size → text/plain</code></pre>
<p>Returns the number of RDF triples in the database.</p>
<h3>Query Evaluation</h3>
<pre class="highlighted"><code class="undefined">GET | POST /{db}/query</code></pre>
<p>The SPARQL endpoint for the database. The valid Accept types are listed
above in the <code>HTTP Headers</code> section.</p>
<p>To issue SPARQL queries with reasoning over HTTP, see the <a href="http://www.stardog.com/docs/owl2/#reasoning">Using Reasoning</a> section of the <a href="http://www.stardog.com/docs/owl2/">Reasoning</a> chapter.</p>
<h3>Query Plan</h3>
<pre class="highlighted"><code class="undefined">GET | POST /{db}/explain → text/plain</code></pre>
<p>Returns the explanation for the execution of a query, i.e., a query
plan. All the same arguments as for Query Evaluation are legal here; but
the only MIME type for the Query Plan resource is <code>text/plain</code>.</p>
<h3>Transaction Begin</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/transaction/begin → text/plain</code></pre>
<p>Returns a transaction identifier resource as <code>text/plain</code>, which is
likely to be deprecated in a future release in favor of a hypertext
format. <code>POST</code> to begin a transaction accepts neither body nor arguments.</p>
<h4>Transaction Security Considerations <div class="metro danger large label">Security Notice</div></h4>
<p>Stardog‘s implementation of transactions with HTTP is
vulnerable to man-in-the-middle attacks, which could be used to violate
Stardog’s isolation guarantee (among other nasty side effects). Stardog's transaction identifiers are 64-bit GUIDs and, thus, pretty hard to <em>guess</em>; but if you can grab a response in-flight, you can steal the transaction identifier if basic access auth or RFC 2069 digest auth is in use. <strong>You've been warned.</strong></p>
<p>In a future release, Stardog will use <a href="http://tools.ietf.org/html/rfc2617">RFC 2617 HTTP
Digest Authentication</a>, which is
less vulnerable to various attacks, and will never ask a client to use a
different authentication type, which should lessen the likelihood of
MitM attacks for properly restricted Stardog clients—that is, a
Stardog client that treats any request by a proxy server or origin
server (i.e., Stardog) to use basic access auth or RFC 2069 digest auth
as a MitM attack. See <a href="http://tools.ietf.org/html/rfc2617">RFC 2617</a> for more information.</p>
<h3>Transaction Commit</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/transaction/commit/{txId} → void | text/plain</code></pre>
<p>Returns a representation of the committed transaction; <code>200</code> means the
commit was successful. Otherwise a <code>500</code> error indicates the commit
failed and the text returned in the result is the failure message.</p>
<p>As you might expect, failed commits exit cleanly, rolling back any
changes that were made to the database.</p>
<h3>Transaction Rollback</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/transaction/rollback/{txId} → void | text/plain</code></pre>
<p>Returns a representation of the transaction after it's been rolled back.
<code>200</code> means the rollback was successful, otherwise <code>500</code> indicates the
rollback failed and the text returned in the result is the failure
message.</p>
<h3>Querying (Transactionally)</h3>
<pre class="highlighted"><code class="undefined">GET | POST /{db}/{txId}/query</code></pre>
<p>Returns a representation of a query executed within the <code>txId</code>
transaction. Queries within transactions will be slower as extra
processing is required to make the changes visible to the query. Again,
the valid Accept types are listed above in the <code>HTTP Headers</code> section.</p>
<h3>Adding Data (Transactionally)</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/{txId}/add → void | text/plain</code></pre>
<p>Returns a representation of data added to the database of the specified
transaction. Accepts an optional parameter, <code>graph-uri</code>, which specifies
the named graph the data should be added to. If a named graph is not
specified, the data is added to the default (i.e., unnamed) context. The
response codes are <code>200</code> for success and <code>500</code> for failure.</p>
<h3>Deleting Data (Transactionally)</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/{txId}/remove → void | text/plain</code></pre>
<p>Returns a representation of data removed from the database within the
specified transaction. Also accepts <code>graph-uri</code> with the analogous
meaning as above (Add in Transaction); response codes are the same as
with Add in Transaction.</p>
<h3>Clear Database</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/{txId}/clear → void | text/plain</code></pre>
<p>Removes all data from the database within the context of the
transaction. <code>200</code> indicates success; <code>500</code> indicates an error. Also
takes an optional parameter, <code>graph-uri</code>, which removes data from a
named graph. To clear only the default graph, pass <code>DEFAULT</code> as the value of <code>graph-uri</code>.</p>
<h3>Explanation of Inferences</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/reasoning/explain → RDF
POST /{db}/reasoning/{txId}/explain → RDF</code></pre>
<p>Returns the explanation of the axiom which is in the body of the <code>POST</code>
request. The request takes the axioms in any supported RDF format and
returns the explanation for why that axiom was inferred as Turtle.</p>
<h3>Explanation of Inconsistency</h3>
<pre class="highlighted"><code class="undefined">GET | POST /{db}/reasoning/explain/inconsistency → RDF</code></pre>
<p>If the database is logically inconsistent, this returns an explanation for the
inconsistency.</p>
<h3>Consistency</h3>
<pre class="highlighted"><code class="undefined">GET | POST /{db}/reasoning/consistency → text/boolean</code></pre>
<p>Returns whether or not the database is consistent w.r.t to the TBox.</p>
<h3>Listing Integrity Constraints</h3>
<pre class="highlighted"><code class="undefined">GET /{db}/icv → RDF</code></pre>
<p>Returns the integrity constraints for the specified database serialized in any supported RDF format.</p>
<h3>Adding Integrity Constraints</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/icv/add</code></pre>
<p>Accepts a set of valid Integrity constraints serialized in any RDF
format supported by Stardog and adds them to the database in an atomic
action. 200 return code indicates the constraints were added
successfully, 500 indicates that the constraints were not valid or
unable to be added.</p>
<h3>Removing Integrity Constraints</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/icv/remove</code></pre>
<p>Accepts a set of valid Integrity constraints serialized in any RDF
format supported by Stardog and removes them from the database in a
single atomic action. <code>200</code> indicates the constraints were successfully
remove; <code>500</code> indicates an error.</p>
<h3>Clearing Integrity Constraints</h3>
<pre class="highlighted"><code class="undefined">POST /{db}/icv/clear</code></pre>
<p>Drops <strong>all</strong> integrity constraints for a database. <code>200</code> indicates all
constraints were successfully dropped; <code>500</code> indicates an error.</p>
<h3>Converting Constraints to SPARQL Queries</h3>
<pre class="highlighted"><code class="undefined">    POST /{db}/icv/convert</code></pre>
<p>The body of the <code>POST</code> is a single integrity constraint, serialized in
any supported RDF format, with <code>Content-type</code> set appropriately. Returns
either a <code>text/plain</code> result containing a single SPARQL query; or it
returns <code>400</code> if more than one constraint was included in the input.</p>
<h2 id="sd-Admin-Resources">Admin Resources</h2>
<p>To administer Stardog over HTTP, use the following resource
representations, HTTP response codes, and resource identifiers.</p>
<h3>List databases</h3>
<pre class="highlighted"><code class="undefined">GET /admin/databases → application/json</code></pre>
<p>Lists all the databases available.</p>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"databases"</span> : [<span class="string">"testdb"</span>, <span class="string">"exampledb"</span>]
    }</code></pre>
<h3>Copy a database</h3>
<pre class="highlighted"><code class="undefined">PUT /admin/databases/{db}/copy?to={db_copy}</code></pre>
<p>Copies a database <code>db</code> to another specified <code>db_copy</code>.</p>
<h3>Create a new database</h3>
<pre class="highlighted"><code class="undefined">    POST /admin/databases</code></pre>
<p>Creates a new database; expects a multipart request with a JSON
specifying database name, options and filenames followed by (optional)
file contents as a multipart <code>POST</code> request.</p>
<p>Expected input (<code>application/json</code>):</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"dbname"</span> : <span class="string">"testDb"</span>,
      <span class="string">"options"</span> : {
        <span class="string">"icv.active.graphs"</span> : <span class="string">"http://graph, http://another"</span>,
        <span class="string">"search.enabled"</span> : <span class="literal">true</span>,
        ...
      },
      <span class="string">"files"</span> : [{ <span class="string">"name"</span>:<span class="string">"fileX.ttl"</span>, <span class="string">"context"</span>:<span class="string">"some:context"</span> }, ...]
    }</code></pre>
<h3>Drop an existing database</h3>
<pre class="highlighted"><code class="undefined">    DELETE /admin/databases/{db}</code></pre>
<p>Drops an existing database <code>db</code> and all the information that it
contains. Goodbye Callahan!</p>
<h3>Migrate an existing database</h3>
<pre class="highlighted"><code class="undefined">    PUT /admin/databases/{db}/migrate</code></pre>
<p>Migrates the existing content of a legacy database to new format.</p>
<h3>Optimize an existing database</h3>
<pre class="highlighted"><code class="undefined">    PUT /admin/databases/{db}/optimize</code></pre>
<p>Optimize an existing database.</p>
<h3>Sets an existing database online.</h3>
<pre class="highlighted"><code class="undefined">    PUT /admin/databases/{db}/online</code></pre>
<p>Request message to set an existing database {db} online.</p>
<h3>Sets an existing database offline.</h3>
<pre class="highlighted"><code class="undefined">    PUT /admin/databases/{db}/offline</code></pre>
<p>Request message to set an existing database offline; receives optionally
a JSON input to specify a timeout for the offline operation. When not
specified, defaults to 3 minutes as the timeout; the timeout should be
provided in <strong>milliseconds</strong>. The timeout is the amount of time the
database will wait for existing connections to complete before going
offline. This will allow open transaction to commit/rollback, open
queries to complete, etc. After the timeout has expired, all remaining
open connections are closed and the database goes offline.</p>
<p>Optional input (<code>application/json</code>):</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"timeout"</span> : <span class="xml"><span class="tag">&lt;<span class="title">timeout_in_ms</span>&gt;</span>
    }</span></code></pre>
<h3>Set option values to an existing database.</h3>
<pre class="highlighted"><code class="undefined">    POST /admin/databases/{kb}/options</code></pre>
<p>Set options in the database passed through a JSON object specification,
i.e. JSON Request for option values. Database options can be found
<a href="../admin/#admin-db">here</a>.</p>
<p>Expected input (<code>application/json</code>):</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"database.name"</span> : <span class="string">"DB_NAME"</span>,
      <span class="string">"icv.enabled"</span> : <span class="literal">true</span> | <span class="literal">false</span>,
      <span class="string">"search.enabled"</span> : <span class="literal">true</span> | <span class="literal">false</span>,
      ...
    }</code></pre>
<h3>Get option values of an existing database.</h3>
<pre class="highlighted"><code class="undefined">PUT /admin/databases/{kb}/options → application/json</code></pre>
<p>Retrieves a set of options passed via a JSON object.
The JSON input has empty values for each key, but will be filled with
the option values in the database in the output.</p>
<p>Expected input:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"database.name"</span> : ...,
      <span class="string">"icv.enabled"</span> : ...,
      <span class="string">"search.enabled"</span> : ...,
      ...
    }</code></pre>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"database.name"</span> : <span class="string">"testdb"</span>,
      <span class="string">"icv.enabled"</span> : <span class="literal">true</span>,
      <span class="string">"search.enabled"</span> : <span class="literal">true</span>,
      ...
    }</code></pre>
<h3>Add a new user to the system.</h3>
<pre class="highlighted"><code class="undefined">    POST /admin/users</code></pre>
<p>Adds a new user to the system; allows a configuration option for
superuser as a JSON object. Superuser configuration is set as default to
false. The password <strong>must</strong> be provided for the user.</p>
<p>Expected input:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"username"</span>  : <span class="string">"bob"</span>,
      <span class="string">"superuser"</span> : <span class="literal">true</span> | <span class="literal">false</span>
      <span class="string">"password"</span>  : <span class="string">"passwd"</span>
    }</code></pre>
<h3>Change user password.</h3>
<pre class="highlighted"><code class="undefined">    PUT /admin/users/{user}/pwd</code></pre>
<p>Changes {user} password in the system. Receives input of new password as
a JSON Object.</p>
<p>Expected input:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"password"</span> : <span class="string">"xxxxx"</span>
    }</code></pre>
<h3>Check if user is enabled.</h3>
<pre class="highlighted"><code class="undefined">    GET /admin/users/{user}/enabled → application/json</code></pre>
<p>Verifies if user is enabled in the system.</p>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"enabled"</span>: <span class="literal">true</span>
    }</code></pre>
<h3>Check if user is superuser.</h3>
<pre class="highlighted"><code class="undefined">    GET /admin/users/{user}/superuser → application/json</code></pre>
<p>Verifies if the user is a superuser:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"superuser"</span>: <span class="literal">true</span>
    }</code></pre>
<h3>Listing users.</h3>
<pre class="highlighted"><code class="undefined">    GET /admin/users → application/json</code></pre>
<p>Retrieves a list of users.</p>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"users"</span>: [<span class="string">"anonymous"</span>, <span class="string">"admin"</span>]
    }</code></pre>
<h3>Listing user roles.</h3>
<pre class="highlighted"><code class="undefined">    GET /admin/users/{user}/roles → application/json</code></pre>
<p>Retrieves the list of the roles assigned to user.</p>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"roles"</span>: [<span class="string">"reader"</span>]
    }</code></pre>
<h3>Deleting users.</h3>
<pre class="highlighted"><code class="undefined">    DELETE /admin/users/{user}</code></pre>
<p>Removes a user from the system.</p>
<h3>Enabling users.</h3>
<pre class="highlighted"><code class="undefined">    PUT /admin/users/{user}/enabled</code></pre>
<p>Enables a user in the system; expects a JSON object in the following
format:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"enabled"</span> : <span class="literal">true</span>
    }</code></pre>
<h3>Setting user roles.</h3>
<pre class="highlighted"><code class="undefined">    PUT /admin/users/{user}/roles</code></pre>
<p>Sets roles for a given user; expects a JSON object specifying the roles
for the user in the following format:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"roles"</span> : [<span class="string">"reader"</span>,<span class="string">"secTestDb-full"</span>]
    }</code></pre>
<h3>Adding new roles.</h3>
<pre class="highlighted"><code class="undefined">    POST /admin/roles</code></pre>
<p>Adds the new role to the system.</p>
<p>Expected input:</p>
<pre class="highlighted"><code class="javascript"> {
   <span class="string">"rolename"</span> : <span class="string">""</span>
 }</code></pre>
<h3>Listing roles.</h3>
<pre class="highlighted"><code class="undefined">GET /admin/roles → application/json</code></pre>
<p>Retrieves the list of roles registered in the system.</p>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript">{
   <span class="string">"roles"</span>: [<span class="string">"reader"</span>]
 }</code></pre>
<h3>Listing users with a specified role.</h3>
<pre class="highlighted"><code class="undefined">GET /admin/roles/{role}/users → application/json</code></pre>
<p>Retrieves users that have the role assigned.</p>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript">{
   <span class="string">"users"</span>: [<span class="string">"anonymous"</span>]
}</code></pre>
<h3>Deleting roles.</h3>
<pre class="highlighted"><code class="undefined">DELETE /admin/roles/{role}?force={force}</code></pre>
<p>Deletes an existing role from the system; the force parameter is a
boolean flag which indicates if the delete call for the role must be
forced.</p>
<h3>Assigning permissions to roles.</h3>
<pre class="highlighted"><code class="undefined">PUT /admin/permissions/role/{role}</code></pre>
<p>Creates a new permission for a given role over a specified resource;
expects input JSON Object in the following format:</p>
<pre class="highlighted"><code class="javascript">{
   <span class="string">"action"</span> : <span class="string">"read"</span> | <span class="string">"write"</span> | <span class="string">"create"</span> | <span class="string">"delete"</span> | <span class="string">"revoke"</span> | <span class="string">"execute"</span> | <span class="string">"grant"</span> | <span class="string">"*"</span>,
   <span class="string">"resource_type"</span> : <span class="string">"user"</span> | <span class="string">"role"</span> | <span class="string">"db"</span> | <span class="string">"named-graph"</span> | <span class="string">"metadata"</span> | <span class="string">"admin"</span> | <span class="string">"icv-constraints"</span> | <span class="string">"*"</span>,
   <span class="string">"resource"</span> : <span class="string">""</span>
}</code></pre>
<h3>Assigning permissions to users.</h3>
<pre class="highlighted"><code class="undefined">PUT /admin/permissions/user/{user}</code></pre>
<p>Creates a new permission for a given user over a specified resource;
expects input JSON Object in the following format:</p>
<pre class="highlighted"><code class="javascript">{
   <span class="string">"action"</span> : <span class="string">"read"</span> | <span class="string">"write"</span> | <span class="string">"create"</span> | <span class="string">"delete"</span> | <span class="string">"revoke"</span> | <span class="string">"execute"</span> | <span class="string">"grant"</span> | <span class="string">"*"</span>,
   <span class="string">"resource_type"</span> : <span class="string">"user"</span> | <span class="string">"role"</span> | <span class="string">"db"</span> | <span class="string">"named-graph"</span> | <span class="string">"metadata"</span> | <span class="string">"admin"</span> | <span class="string">"icv-constraints"</span> | <span class="string">"*"</span>,
   <span class="string">"resource"</span> : <span class="string">""</span>
 }</code></pre>
<h3>Deleting permissions from roles.</h3>
<pre class="highlighted"><code class="undefined">POST /admin/permissions/role/{role}/delete</code></pre>
<p>Deletes a permission for a given role over a specified resource; expects
input JSON Object in the following format:</p>
<pre class="highlighted"><code class="javascript"> {
    <span class="string">"action"</span> : <span class="string">"read"</span> | <span class="string">"write"</span> | <span class="string">"create"</span> | <span class="string">"delete"</span> | <span class="string">"revoke"</span> | <span class="string">"execute"</span> | <span class="string">"grant"</span> | <span class="string">"*"</span>,
    <span class="string">"resource_type"</span> : <span class="string">"user"</span> | <span class="string">"role"</span> | <span class="string">"db"</span> | <span class="string">"named-graph"</span> | <span class="string">"metadata"</span> | <span class="string">"admin"</span> | <span class="string">"icv-constraints"</span> | <span class="string">"*"</span>,
    <span class="string">"resource"</span> : <span class="string">""</span>
 }</code></pre>
<h3>Deleting permissions from users.</h3>
<pre class="highlighted"><code class="undefined">POST /admin/permissions/user/{user}/delete</code></pre>
<p>Deletes a permission for a given user over a specified resource; expects
input JSON Object in the following format:</p>
<pre class="highlighted"><code class="javascript">{
   <span class="string">"action"</span> : <span class="string">"read"</span> | <span class="string">"write"</span> | <span class="string">"create"</span> | <span class="string">"delete"</span> | <span class="string">"revoke"</span> | <span class="string">"execute"</span> | <span class="string">"grant"</span> | <span class="string">"*"</span>,
   <span class="string">"resource_type"</span> : <span class="string">"user"</span> | <span class="string">"role"</span> | <span class="string">"db"</span> | <span class="string">"named-graph"</span> | <span class="string">"metadata"</span> | <span class="string">"admin"</span> | <span class="string">"icv-constraints"</span> | <span class="string">"*"</span>,
   <span class="string">"resource"</span> : <span class="string">""</span>
}</code></pre>
<h3>Listing role permissions.</h3>
<pre class="highlighted"><code class="undefined">GET /admin/permissions/role/{role} → application/json</code></pre>
<p>Retrieves permissions assigned to the role.</p>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript"> {
   <span class="string">"permissions"</span>: [<span class="string">"stardog:read:*"</span>]
 }</code></pre>
<h3>Listing user permissions.</h3>
<pre class="highlighted"><code class="undefined">GET /admin/permissions/user/{user} → application/json</code></pre>
<p>Retrieves permissions assigned to the user.</p>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript"> {
   <span class="string">"permissions"</span>: [<span class="string">"stardog:read:*"</span>]
 }</code></pre>
<h3>Listing user effective permissions.</h3>
<pre class="highlighted"><code class="undefined">GET /admin/permissions/effective/user/{user} → application/json</code></pre>
<p>Retrieves effective permissions assigned to the user.</p>
<p>Output JSON example:</p>
<pre class="highlighted"><code class="javascript">    {
      <span class="string">"permissions"</span>: [<span class="string">"stardog:*"</span>]
    }</code></pre>
<h3>Shutdown server.</h3>
<pre class="highlighted"><code class="undefined">POST /admin/shutdown</code></pre>
<p>Shuts down the Stardog Server. If successful, returns a <code>202</code> to
indicate that the request was recieved and that the server will be shut
down shortly.</p>
</div>
    </div>
  </div>

  <div id="thefooter" class="container shaded">
    <div class="row">
      <div class="three columns">
        <p id="social">
        <a href="/"><i class="icon-home"></i></a>&nbsp;
        <a href="#" id="upaway" class="skip" gumby-easing="easeInOutQuad" gumby-goto="top" gumby-duration="2000">&uarr;</a>
        <!-- &nbsp;
        <a href="http://twitter.com/stardog_db"><i class="icon-twitter"></i></a>
        &nbsp;
        <a href=""><i class="icon-google-circles"></i></a> -->
        </p>
      </div>
      <div class="nine columns">
        
          <h4>This is <span id="title-masthead">Network Programming</span>, a chapter in Stardog Docs 1.2.3.</h4>
        
      <p>For comments, questions, or to report problems with this page, visit the <a href="https://groups.google.com/a/clarkparsia.com/group/stardog/about">Stardog Support Forum</a>.</p>
      <p id="copywood">&copy;2010&ndash;2013 Clark &amp; Parsia LLC. <a href="http://creativecommons.org/licenses/by-sa/3.0/">Some rights reserved</a>.
      </div>
    </div>
  </div>

<script defer="defer"  src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script defer="defer"  src="/js/libs/gumby.js"></script><script defer="defer"  src="/js/libs/ui/gumby.fittext.js"></script><script defer="defer"  src="/js/libs/ui/gumby.fixed.js"></script><script defer="defer"  src="/js/libs/ui/gumby.navbar.js"></script><script defer="defer"  src="/js/libs/ui/gumby.retina.js"></script><script defer="defer"  src="/js/libs/ui/gumby.skiplink.js"></script><script defer="defer"  src="/js/libs/ui/gumby.tabs.js"></script><script defer="defer"  src="/js/libs/ui/gumby.toggleswitch.js"></script><script defer="defer"  src="/js/libs/gumby.init.js"></script><script defer="defer"  src="/js/plugins.js"></script><script defer="defer"  src="/js/main.js"></script>
